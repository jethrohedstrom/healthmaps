---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const stories = await getCollection('stories');
---
<BaseLayout title="Navigate Mental Health Support with Confidence">
  <!-- Hero -->
  <section class="bg-white">
    <div class="max-w-4xl mx-auto px-4 py-24 md:py-32 text-center">
      <span class="inline-block text-xs font-semibold uppercase tracking-widest text-brand-green bg-brand-green-light px-4 py-1.5 rounded-full mb-6">
        Free Guide for Australians
      </span>
      <h1 class="text-5xl md:text-6xl lg:text-7xl font-extrabold text-brand-blue mb-6 leading-[1.08] tracking-tight">
        Navigate Mental Health Support with Confidence
      </h1>
      <p class="text-lg md:text-xl text-gray-500 mb-10 max-w-2xl mx-auto">
        Clear, practical guidance to understand your options and access mental health support in Australia. Everything you need to take the first step.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/pathway/" class="bg-brand-green text-white px-8 py-3.5 rounded-full font-semibold hover:bg-brand-green/90 transition-colors text-lg">
          Get Started
        </a>
        <a href="/calculator/" class="bg-white text-gray-700 border-2 border-gray-200 px-8 py-3.5 rounded-full font-semibold hover:border-brand-green hover:text-brand-green transition-colors text-lg">
          Estimate Costs
        </a>
        <a href="https://chat.healthmaps.com.au" target="_blank" rel="noopener noreferrer" class="bg-white text-gray-700 border-2 border-gray-200 px-8 py-3.5 rounded-full font-semibold hover:border-brand-green hover:text-brand-green transition-colors text-lg inline-flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z" /></svg>
          Ask a Question
        </a>
      </div>
    </div>
  </section>

  <hr class="section-divider" />

  <!-- How It Works -->
  <section class="bg-white">
    <div class="max-w-6xl mx-auto px-4 py-24 md:py-32">
      <div class="text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-bold text-brand-blue mb-4">How It Works</h2>
        <p class="text-gray-500 max-w-xl mx-auto">Four simple steps from your GP visit to your first psychology session.</p>
      </div>
      <div class="grid sm:grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <!-- Step 1: Book a GP -->
        <div class="p-6">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
            </svg>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">Book a GP</h3>
          <p class="text-sm text-gray-500">Ask for a longer appointment to discuss your mental health.</p>
        </div>
        <!-- Step 2: Get an MHCP -->
        <div class="p-6">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15a2.25 2.25 0 0 1 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25Z" />
            </svg>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">Get an MHCP</h3>
          <p class="text-sm text-gray-500">Your GP creates a Mental Health Care Plan and writes a referral.</p>
        </div>
        <!-- Step 3: Find a Psychologist -->
        <div class="p-6">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
            </svg>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">Find a Psychologist</h3>
          <p class="text-sm text-gray-500">Search for a psychologist who suits your needs and budget.</p>
        </div>
        <!-- Step 4: Attend Sessions -->
        <div class="p-6">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
            </svg>
          </div>
          <h3 class="font-semibold text-gray-800 mb-2">Attend Sessions</h3>
          <p class="text-sm text-gray-500">Up to 10 Medicare-rebated sessions per calendar year.</p>
        </div>
      </div>
      <div class="text-center mt-10">
        <a href="/pathway/" class="inline-flex items-center gap-1 text-brand-green font-medium hover:gap-2 transition-all">
          Read the full guide
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" /></svg>
        </a>
      </div>
    </div>
  </section>

  <hr class="section-divider" />

  <!-- Explore Tools -->
  <section class="bg-white">
    <div class="max-w-6xl mx-auto px-4 py-24 md:py-32">
      <div class="text-center mb-14">
        <h2 class="text-3xl md:text-4xl font-bold text-brand-blue mb-4">Explore Our Tools</h2>
        <p class="text-gray-500 max-w-xl mx-auto">Everything you need to make informed decisions about your mental health care.</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
        <!-- Compare Practitioners -->
        <a href="/practitioners/" class="card-hover block group bg-white rounded-2xl border border-gray-100 p-8 text-center">
          <div class="w-14 h-14 rounded-full bg-brand-blue-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-blue" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 group-hover:text-brand-green transition-colors mb-2">
            Compare Practitioners
          </h3>
          <p class="text-sm text-gray-500">Psychologist vs psychiatrist vs counsellor — costs, rebates, and what each one does.</p>
        </a>
        <!-- Cost Calculator -->
        <a href="/calculator/" class="card-hover block group bg-white rounded-2xl border border-gray-100 p-8 text-center">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25v-.008Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007v-.008Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008v-.008Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008v-.008ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 group-hover:text-brand-green transition-colors mb-2">
            Cost Calculator
          </h3>
          <p class="text-sm text-gray-500">Estimate your out-of-pocket costs after Medicare rebates.</p>
        </a>
        <!-- Practical Tips -->
        <a href="/tips/" class="card-hover block group bg-white rounded-2xl border border-gray-100 p-8 text-center">
          <div class="w-14 h-14 rounded-full bg-brand-green-light flex items-center justify-center mx-auto mb-5">
            <svg class="w-7 h-7 text-brand-green" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 group-hover:text-brand-green transition-colors mb-2">
            Practical Tips
          </h3>
          <p class="text-sm text-gray-500">What to say to your GP, how to choose a psychologist, and how to reduce costs.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Stories Preview -->
  {stories.length > 0 && (
    <>
      <hr class="section-divider" />
      <section class="bg-white">
        <div class="max-w-6xl mx-auto px-4 py-24 md:py-32">
          <div class="text-center mb-14">
            <h2 class="text-3xl md:text-4xl font-bold text-brand-blue mb-4">Stories from Others</h2>
            <p class="text-gray-500 max-w-xl mx-auto">Real experiences navigating Australia's mental health system.</p>
          </div>
          <div class="grid md:grid-cols-2 gap-8">
            {stories.slice(0, 2).map(story => (
              <a href={`/stories/${story.id}/`} class="card-hover block group">
                <article class="bg-white rounded-2xl border border-gray-100 p-8 h-full">
                  <svg class="w-8 h-8 text-brand-green/30 mb-4" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179Zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179Z" />
                  </svg>
                  <h3 class="text-lg font-semibold text-gray-800 group-hover:text-brand-green transition-colors mb-1">
                    {story.data.title}
                  </h3>
                  <p class="text-sm text-gray-400 mb-3">
                    {story.data.name}{story.data.age ? `, ${story.data.age}` : ''}{story.data.location ? ` — ${story.data.location}` : ''}
                  </p>
                  <p class="text-gray-500">{story.data.summary}</p>
                </article>
              </a>
            ))}
          </div>
          <div class="text-center mt-10">
            <a href="/stories/" class="inline-flex items-center gap-1 text-brand-green font-medium hover:gap-2 transition-all">
              Read all stories
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" /></svg>
            </a>
          </div>
        </div>
      </section>
    </>
  )}

  <hr class="section-divider" />

  <!-- Bottom CTA -->
  <section class="bg-white">
    <div class="max-w-3xl mx-auto px-4 py-24 md:py-32 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-brand-blue mb-6">Ready to get started?</h2>
      <p class="text-gray-500 mb-8 max-w-lg mx-auto">Take the first step towards accessing Medicare-funded mental health support.</p>
      <a href="/pathway/" class="inline-block bg-brand-green text-white px-10 py-4 rounded-full font-semibold text-lg hover:bg-brand-green/90 transition-colors">
        Get Started
      </a>
    </div>
  </section>

  <!-- Structured Data for SEO -->
  <script is:inline type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "HealthMaps",
    "description": "Navigate Australia's mental health system with clear, step-by-step guidance.",
    "url": "https://healthmaps.au",
  })} />
</BaseLayout>
